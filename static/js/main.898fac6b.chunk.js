(this.webpackJsonptiles=this.webpackJsonptiles||[]).push([[0],{12:function(e,t,a){e.exports={cardField:"TilesGame_cardField__3sH6w",roundsMessage:"TilesGame_roundsMessage__3ZLHu"}},24:function(e,t,a){},25:function(e,t,a){},3:function(e,t,a){e.exports={cardContainer:"Card_cardContainer__3AnvL",openedCard:"Card_openedCard__k58TP",card:"Card_card__3NBJW",solvedCard:"Card_solvedCard__3ZLjT",cardBack:"Card_cardBack__2-0Vx",cardContent:"Card_cardContent__1Ysp8"}},32:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),d=a(6),o=a.n(d),c=(a(24),a(25),a(13)),i=a(14),l=a(18),u=a(17),p=a(7),C=a(2),j={cardsImages:[128046,128042,128040,129432,128008,128055,128057,128060,129414,128037,128056,128025,128029,128030],fieldWidth:4,fieldHeight:4,cards:[],movesCount:null,cardsSolved:0,gameIsFinished:!1},m="INITIALIZE_GAME",f="FINISH_THE_GAME",h="SET_CARD_OPENED",b="SET_CARDS_SOLVED",O="SET_CARDS_CLOSED",v="ROUND_FINISHED",_=a(3),g=a.n(_),S=a(16),I=a.n(S),x=function(e){var t=e.content,a=e.id,r=e.opened,s=e.solved,d=e.openCard;return Object(n.jsx)("div",{className:I()(g.a.cardContainer,r&&g.a.openedCard,s&&g.a.solvedCard),onClick:function(){!s&&d(a)},children:Object(n.jsxs)("div",{className:g.a.card,children:[Object(n.jsx)("div",{className:g.a.cardContent,children:String.fromCodePoint(t)}),Object(n.jsx)("div",{className:g.a.cardBack})]})})},F=a(12),N=a.n(F),G=a(5),y=a.n(G),E=function(e){var t=e.initializeGame,a=e.movesCount;return Object(n.jsx)("div",{className:y.a.wrapper,children:Object(n.jsxs)("div",{className:y.a.modalWindow,children:[Object(n.jsxs)("h1",{className:y.a.congratulation,children:["Congratulations, you won in ",a," rounds!"]}),Object(n.jsx)("button",{className:y.a.button,onClick:function(){t()},children:"Play again"})]})})},M=function(e){var t=e.cards,a=e.openCard,r=e.movesCount,d=e.gameIsFinished,o=e.initializeGame;return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("div",{className:N.a.cardField,children:t.map((function(e){return Object(n.jsx)(x,Object(C.a)(Object(C.a)({},e),{},{openCard:a}),e.id)}))}),Object(n.jsxs)("h1",{className:N.a.roundsMessage,children:["Rounds: ",r]}),d&&Object(n.jsx)(E,{initializeGame:o,movesCount:r})]})},w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).prepareCards=function(){var e,t=(e=n.props.fieldHeight*n.props.fieldWidth/2,n.props.cardsImages.sort((function(){return.5-Math.random()})).slice(0,e));t=function(e){for(var t,a,n=e.length-1;n>0;n--)a=e[t=Math.floor(Math.random()*(n+1))],e[t]=e[n],e[n]=a;return e}(t.concat(t));for(var a=[],r=0;r<t.length;r++)a.push({content:t[r],id:r,opened:!1,solved:!1});n.props.initializeGame(a)},n.handleRound=function(){n.props.cards[n.state.firstCard].content===n.props.cards[n.state.secondCard].content?(n.props.setCardsSolved(n.state.firstCard,n.state.secondCard),n.setState({firstCard:null,secondCard:null}),n.props.roundFinished(!0)):(n.props.roundFinished(!1),n.props.setCardsClosed(n.state.firstCard,n.state.secondCard),n.setState({firstCard:null,secondCard:null}))},n.openCard=function(e){null===n.state.firstCard?(n.setState({firstCard:e}),n.props.setCardOpened(e)):null===n.state.secondCard&&e!==n.state.firstCard&&(n.setState({secondCard:e}),n.props.setCardOpened(e),setTimeout((function(){n.handleRound()}),700))},n.state={firstCard:null,secondCard:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.prepareCards()}},{key:"componentDidUpdate",value:function(e){e.cardsSolved!==this.props.cardsSolved&&this.props.cardsSolved===this.props.cards.length&&this.props.finishTheGame()}},{key:"render",value:function(){return Object(n.jsx)(M,{cards:this.props.cards,openCard:this.openCard,movesCount:this.props.movesCount,gameIsFinished:this.props.gameIsFinished,initializeGame:this.prepareCards})}}]),a}(s.a.Component),T={initializeGame:function(e){return{type:m,cardsForGame:e}},setCardOpened:function(e){return{type:h,cardId:e}},setCardsSolved:function(e,t){return{type:b,firstCard:e,secondCard:t}},setCardsClosed:function(e,t){return{type:O,firstCard:e,secondCard:t}},finishTheGame:function(){return{type:f}},roundFinished:function(e){return{type:v,guesed:e}}},k=Object(p.b)((function(e){return{cards:e.tiles.cards,cardsSolved:e.tiles.cardsSolved,movesCount:e.tiles.movesCount,gameIsFinished:e.tiles.gameIsFinished,fieldHeight:e.tiles.fieldHeight,fieldWidth:e.tiles.fieldWidth,cardsImages:e.tiles.cardsImages}}),T)(w);var D=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(k,{})})},H=a(4),A=Object(H.b)({tiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(C.a)(Object(C.a)({},e),{},{cards:t.cardsForGame,movesCount:0,cardsSolved:0,gameIsFinished:!1});case h:return Object(C.a)(Object(C.a)({},e),{},{cards:e.cards.map((function(e){return e.id===t.cardId?Object(C.a)(Object(C.a)({},e),{},{opened:!0}):e}))});case f:return Object(C.a)(Object(C.a)({},e),{},{gameIsFinished:!0,cards:e.cards.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{opened:!1})}))});case b:return Object(C.a)(Object(C.a)({},e),{},{cards:e.cards.map((function(e){return e.id===t.firstCard||e.id===t.secondCard?Object(C.a)(Object(C.a)({},e),{},{solved:!0}):e}))});case O:return Object(C.a)(Object(C.a)({},e),{},{cards:e.cards.map((function(e){return e.id===t.firstCard||e.id===t.secondCard?Object(C.a)(Object(C.a)({},e),{},{opened:!1}):e}))});case v:return t.guesed?Object(C.a)(Object(C.a)({},e),{},{movesCount:e.movesCount+1,cardsSolved:e.cardsSolved+2}):Object(C.a)(Object(C.a)({},e),{},{movesCount:e.movesCount+1});default:return e}}}),R=Object(H.c)(A);o.a.render(Object(n.jsx)(p.a,{store:R,children:Object(n.jsx)(D,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={wrapper:"Modal_wrapper__3qHpt",modalWindow:"Modal_modalWindow__3YeYZ",congratulation:"Modal_congratulation__1Nn0w",button:"Modal_button__2zR_g"}}},[[32,1,2]]]);
//# sourceMappingURL=main.898fac6b.chunk.js.map